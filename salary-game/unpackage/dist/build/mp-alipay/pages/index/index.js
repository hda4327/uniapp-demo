(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/index/index"],{3694:function(e,n,t){"use strict";(function(e){t("51e7"),t("921b");o(t("66fd"));var n=o(t("4257"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("c11b")["createPage"])},"3bfb":function(e,n,t){"use strict";t.r(n);var o=t("98a2"),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a);n["default"]=i.a},4257:function(e,n,t){"use strict";t.r(n);var o=t("8a31"),i=t("3bfb");for(var a in i)"default"!==a&&function(e){t.d(n,e,function(){return i[e]})}(a);t("8a18");var r,c=t("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);n["default"]=s.exports},"71bf":function(e,n,t){},"8a18":function(e,n,t){"use strict";var o=t("71bf"),i=t.n(o);i.a},"8a31":function(e,n,t){"use strict";var o,i=function(){var e=this,n=e.$createElement;e._self._c},a=[];t.d(n,"b",function(){return i}),t.d(n,"c",function(){return a}),t.d(n,"a",function(){return o})},"98a2":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("e8f5"),i=t("cad4"),a=t("3c39"),r=function(){return Promise.all([t.e("common/vendor"),t.e("pages/index/chidCom/picker-content")]).then(t.bind(null,"43e0"))},c=function(){return Promise.all([t.e("common/vendor"),t.e("pages/index/chidCom/skill-content")]).then(t.bind(null,"b860"))},s=function(){return t.e("pages/index/chidCom/auth-modal").then(t.bind(null,"5aec"))},l=function(){return Promise.all([t.e("common/vendor"),t.e("components/confirm-btn")]).then(t.bind(null,"f667"))},u=function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,"c807"))},f=function(){return t.e("components/advertisement").then(t.bind(null,"93a0"))},d={data:function(){return{btnText:"确认匹配薪资",havePickPostId:null,test:"",poster:"",isCreate:!1,isShow:!1,totalVal:0,skillVal:0,advertisementBg:"",tipTextObj:{location_value:"城市",position_value:"从事工作",qualification_value:"职称状况",year_value:"工作经验",education_value:"学历"},config:""}},components:{ConfirmBtn:l,SkillContent:c,Advertisement:f,PickerContent:r,UniPopup:u,AuthModal:s},onLoad:function(){var n=this;(0,a.getConfig)(function(t){n.config=t.data,e.setStorageSync("config",n.config),n.advertisementBg=n.config.banner.page1.src,e.setNavigationBarTitle({title:n.config.title.page1})})},onReady:function(){var n=this;e.getStorageSync("userInfo")||(0,o.getCodeForOauth)("oauth").then(function(t){(0,i.getKey)(function(t){e.setStorageSync("session_key",t.data.session_key),e.setStorageSync("openid",t.data.openid),n.$refs.popup.open()},{code:t.code})})},methods:{toIndexAd:function(){""===this.config.banner.page1.link?e.navigateToMiniProgram({appId:"wx9188524557398958",path:"pages/home/dashboard/index",success:function(e){},fail:function(e){}}):(e.setStorageSync("ad_url",this.config.banner.page1.link),e.navigateTo({url:"/pages/index/adUrl"}))},handleContact:function(e){console.log("kefu:",e)},saveMsg:function(n){var t=this;e.getStorageSync("userInfo")?"getPhoneNumber:fail user deny"!==n.errMsg?this.toReqGetPhone(n).then(function(){t.checkMsgFill()&&t.checkSkill()&&t.reqSaveWork()}):e.showToast({title:"获取信息失败"}):this.$refs.popup.open()},onlyCheckMsg:function(){this.checkMsgFill()&&this.checkSkill()&&this.reqSaveWork()},navToRes:function(){e.redirectTo({url:"/pages/result/result"})},authForInfo:function(n){if("getUserInfo:fail auth deny"!==n.detail.errMsg){var t=e.getStorageSync("openid"),o=n.detail.userInfo;o["nickname"]=o["nickName"],o["headimgurl"]=o["avatarUrl"],e.setStorageSync("userInfo",JSON.stringify(o)),Object.assign(o,{openid:t}),console.log(o),(0,i.saveUserInfo)(function(e){console.log("save",e)},o),this.closePop()}},closePop:function(){this.$refs.popup.close()},checkMsgFill:function(){var n=this,t=this.$refs.msgSelect.pickParams,o=Object.keys(t).every(function(o){return t[o]?(n.totalVal+=parseInt(t[o]),!0):(e.showToast({title:n.tipTextObj[o]+"未填",icon:"none"}),n.totalVal=0,!1)});return o},checkSkill:function(){var e=this.$refs.skillSelect.valueList,n=!0,t=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var r=i.value;this.skillVal+=parseInt(r)}}catch(c){t=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(t)throw o}}return this.totalVal+=this.skillVal,!0},toReqGetPhone:function(n){var t=this;return new Promise(function(i){(0,o.getPhoneNumber)(n).then(function(n){e.setStorageSync("phone",n.data),t.$refs.confirmBtn.btnType2="",i()})})},reqSaveWork:function(){var n=this,t={open_id:e.getStorageSync("openid"),phone:e.getStorageSync("phone"),total:this.totalVal,skill_value:this.skillVal},o=this.$refs.msgSelect.pickParams;Object.assign(o,t),(0,a.saveWork)(function(t){e.setStorageSync("total",t.data.total),e.setStorageSync("tip",t.data.message),e.setStorageSync("proportion",t.data.proportion),n.navToRes()},o)},onShareAppMessage:function(){return{title:"口腔机构人员薪资测一测",path:"pages/index/index"}}}};n.default=d}).call(this,t("c11b")["default"])}},[["3694","common/runtime","common/vendor"]]]);